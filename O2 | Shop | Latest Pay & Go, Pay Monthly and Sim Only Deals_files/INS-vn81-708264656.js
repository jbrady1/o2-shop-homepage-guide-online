(function(){var g=void 0,m=!0,o=null,v=!1;
window.EDRUtility={u:function(c,e){function d(){}d.prototype=e.prototype;c.prototype=new d;c.ud=e.prototype;c.prototype.constructor=c},M:function(c,e){c.style.setAttribute?c.style.setAttribute("cssText",e):c.setAttribute("style",e)},Aa:function(c,e){if(c.styleSheet)c.styleSheet.cssText=e;else{if(c.hasChildNodes())for(;1<=c.childNodes.length;)c.removeChild(c.firstChild);c.appendChild(document.createTextNode(e))}},sd:function(c,e){var d;c.currentStyle?d=c.currentStyle[e]:window.getComputedStyle&&(d=
document.defaultView.getComputedStyle(c,o).getPropertyValue(e));return d},Oc:function(c,e,d){c.addEventListener?c.addEventListener(e,d,v):c.attachEvent?(c["e"+e+d]=d,c[e+d]=function(){var l=window.event;c["e"+e+d]({target:l.srcElement,type:l.type})},c.attachEvent("on"+e,c[e+d])):c["on"+e]=c["e"+e+d]},Pc:function(c,e,d){for(var l=0;l<e.length;++l)this.Oc(c,e[l],d)},matchesSelector:function(c,e){for(var d=document.querySelectorAll(e),l=0;l<d.length;++l)if(d[l]===c)return m;return v},Tb:function(c){c=
c.getBoundingClientRect();return{x:c.left,y:c.top}},ab:function(){var c=0,e=0;window.innerWidth?(c=window.innerWidth,e=window.innerHeight):0!==document.documentElement.clientWidth?(c=document.documentElement.clientWidth,e=document.documentElement.clientHeight):(c=document.body.clientWidth,e=document.body.clientHeight);return{x:c,y:e}},Q:function(c,e,d,l){if(d){var f=new Date;f.setTime(f.getTime()+864E5*d);d="; expires="+f.toGMTString()}else d="";c=c+"="+e+d+"; path=/";l&&(c+=";domain="+l);document.cookie=
c},C:function(c,e){for(var d=c+"=",l=document.cookie.split(";"),f=[],k=0;k<l.length;k++){for(var i=l[k];" "===i.charAt(0);)i=i.substring(1,i.length);0===i.indexOf(d)&&f.push(i.substring(d.length,i.length))}return 0===f.length?o:e?f.join(e):f[0]},ld:function(c){for(var e=document.cookie.split(";"),d={},l=0;l<e.length;l++){for(var f=e[l];" "===f.charAt(0);)f=f.substring(1,f.length);f=f.split("=");0===f[0].indexOf(c)&&(d[f[0]]=f[1])}return d},Sb:function(c,e){this.Q(c,"",-1,e)},Qc:function(){var c=v;
this.Q("edr_sc_tst","tst_val",1);this.C("edr_sc_tst")!==o&&(c=m,this.Sb("edr_sc_tst"));return c},Wc:function(){function c(c){c=c.match(/[\d]+/g);c.length=3;return c.join(".")}var e=o;if(navigator.plugins&&navigator.plugins.length){var d=navigator.plugins["Shockwave Flash"];d&&d.description?e=c(d.description):navigator.plugins["Shockwave Flash 2.0"]&&(e="2.0.0.11")}else if(navigator.mimeTypes&&navigator.mimeTypes.length)(d=navigator.mimeTypes["application/x-shockwave-flash"])&&d.enabledPlugin&&(e=
c(d.enabledPlugin.description));else try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),e=c(d.GetVariable("$version"))}catch(l){try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),e="6.0.21"}catch(f){try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),e=c(d.GetVariable("$version"))}catch(k){}}}return e?e:o},Pb:function(c){if(o===c||"object"!==typeof c)return c;var e=c.constructor(),d;for(d in c)c.hasOwnProperty(d)&&(e[d]=this.Pb(c[d]));return e},xc:0,ac:function(c,e,d,l,f){function k(){function d(){var b=
o;try{b=p.contentDocument||p.document}catch(a){}b?setTimeout(d,10):(document.body.removeChild(k),document.body.removeChild(document.getElementById(i)),l&&l())}f=f||"post";var k=document.createElement("form");k.setAttribute("method",f);k.setAttribute("action",c);for(var q in e)if(e.hasOwnProperty(q)){var j=document.createElement("input");j.setAttribute("type","hidden");j.setAttribute("name",q);var r=e[q],r="object"===typeof r?JSON.stringify(r):r;j.setAttribute("value",r);k.appendChild(j)}k.setAttribute("target",
i);document.body.appendChild(k);k.submit();setTimeout(d,10)}var i="iframe_req_"+ ++this.xc,p=document.createElement("iframe");if(d=d&&"Microsoft Internet Explorer"===navigator.appName)p.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())";p.setAttribute("id",i);p.setAttribute("name",i);this.M(p,"position:absolute;left:-100000px;top:-100000px;");document.body.appendChild(p);window.frames&&window.frames[i]&&(p=window.frames[i]);p.name=i;d?setTimeout(k,
1):k()},Ub:function(){function c(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c()},Za:function(c,e){if(Array.prototype.indexOf)return c.indexOf(e);if(c===o)throw new TypeError;var d=Object(c),l=d.length>>>0;if(0===l)return-1;var f=0;2<arguments.length&&(f=Number(arguments[2]),f!=f?f=0:0!==f&&(Infinity!==f&&-Infinity!==f)&&(f=(0<f||-1)*Math.floor(Math.abs(f))));if(f>=l)return-1;for(f=0<=f?f:Math.max(l-Math.abs(f),0);f<l;f++)if(f in
d&&d[f]===e)return f;return-1}};(function(c){var e=c.EDRUtility,d={Uc:function(c){var f={};if(c)for(var e in c)if(c.hasOwnProperty(e)){var i=d.d.create(e,c[e]);i&&(f[e]=i)}return f},execute:function(c,e,d){var i={},p;for(p in e)if(e.hasOwnProperty(p)){var n=e[p];if("push"==n.q.kind){var w=d[n.q.code];n.za=w!==g?w:o}i[p]=n.fa(c)}return i},d:function(c,e){this.q=e;this.za=o}};d.d.create=function(c,e){switch(e.kind){case "resultHistory":return new d.d.Fa(c,e);case "cookieValue":case "elementContent":case "pageUrl":return new d.d.la(c,
e);case "cookieExists":case "elementExists":case "elementVisible":return new d.d.ia(c,e);case "elementCount":return new d.d.ka(c,e);case "push":switch(e.type){case "bool":return new d.d.ia(c,e);case "string":return new d.d.la(c,e);case "number":return new d.d.ka(c,e);default:return o}default:return o}};d.d.la=function(c,e){try{this.Eb=e.regex?RegExp(e.regex):o}catch(k){}this.Fb=v;this.Gb=0;this.Nc=e.visibleOnly===m;e.returnAll?this.Fb=m:this.Gb=e.index?e.index:0;d.d.call(this,c,e)};e.u(d.d.la,d.d);
d.d.la.prototype.fa=function(c){var d=[];switch(this.q.kind){case "cookieValue":(c=e.C(this.q.cookieName))&&d.push(c);break;case "elementContent":for(var c=c.document.querySelectorAll(this.q.selector),k=0;k<c.length;++k)this.Nc&&0===c[k].offsetWidth||d.push(c[k].textContent||c[k].innerText);break;case "pageUrl":d.push(c.document.location.href);break;case "push":d.push(this.za)}if(this.Eb){c=[];for(k=0;k<d.length;++k){var i=this.Eb.exec(d[k]);if(i&&1===i.length)c.push(d[k]);else if(i)for(var p=1;p<
i.length;++p)c.push(i[p])}d=c}if(this.Fb)return d;c=this.Gb;return 0>c?o:c>=d.length?o:d[c]};d.d.ia=function(c,e){d.d.call(this,c,e)};e.u(d.d.ia,d.d);d.d.ia.prototype.fa=function(c){var d=v;switch(this.q.kind){case "cookieExists":d=e.C(this.q.cookieName)!==o;break;case "elementExists":d=c.document.querySelector(this.q.selector)!==o;break;case "elementVisible":for(var c=c.document.querySelectorAll(this.q.selector),k=0;k<c.length;++k)if(0!==c[k].offsetWidth){d=m;break}break;case "push":d=this.za}this.q.not&&
(d=!d);return d};d.d.ka=function(c,e){d.d.call(this,c,e)};e.u(d.d.ka,d.d);d.d.ka.prototype.fa=function(c){switch(this.q.kind){case "elementCount":return c.document.querySelectorAll(this.q.selector).length;case "push":return this.za}};d.d.Fa=function(c,e){this.pc=e.allowDuplicates===m;this.yc=d.d.create(c+"_inner",e.innerProbe);this.xb=o;this.T=[];d.d.call(this,c,e)};e.u(d.d.Fa,d.d);d.d.Fa.prototype.fa=function(c){c=this.yc.fa(c);if(JSON.stringify(c)===JSON.stringify(this.xb))return this.T;this.xb=
c;for(var c="[object Array]"===Object.prototype.toString.call(c)?c:[c],e=0;e<c.length;++e){if(!this.pc){for(var d=v,i=0;i<this.T.length;++i)if(c[e]===this.T[i].val){d=m;break}if(d)continue}this.T.push({dt:Math.round((new Date).getTime()/1E3),val:c[e]})}return this.T};this.EDRSurveyCodeProbes=d})(window);(function(c,e,d,l){var f={zc:0,Rpc:function(d,i){if(i.local)for(var p in i.local)if(i.local.hasOwnProperty(p)){var n=i.local[p];"function"===typeof n&&(i.local[p]={method:n})}p="edr"+f.zc++;n=e.createElement("iframe");n.id=n.name=d.props.id;n.border=n.frameBorder=0;n.allowTransparency=m;n.src=d.remote+"&xdm_o="+l(f.tb(c.location.toString()))+"&xdm_c="+p;e.getElementById(d.container).appendChild(n);return new f.nc(d,i,n,f.tb(d.remote),p)},tb:function(c){var e=c.toLowerCase().match(/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/),
c=e[2],d=e[3],e=e[4]||"";if("http:"===c&&":80"===e||"https:"===c&&":443"===e)e="";return c+"//"+d+e},nc:function(e,f,l,n,w){function q(a){var b=Array.prototype.slice;return function(){var c={method:a,params:b.call(arguments,0)};l.contentWindow.postMessage(JSON.stringify(c),n)}}function j(a){if(a.origin===n&&(a=JSON.parse(a.data),a.channel===w))if(a.internal)!r&&"-ready-"===a.internal&&(d(e.onReady,0),r=m);else{var b=f.local[a.method];b.method.apply(b.scope,a.params)}}var r=v,b;for(b in f.remote)f.remote.hasOwnProperty(b)&&
(this[b]=q(b));c.addEventListener?c.addEventListener("message",j,v):c.attachEvent("onmessage",j)}};this.eDRXDMClient=f;this.eDRXDMClient.Rpc=f.Rpc})(window,document,window.setTimeout,encodeURIComponent);/*
 eDigitalResearch survey code v7.2.1.1
   Copyright (C) 2012 eDigitalResearch all rights reserved.
   http://www.edigitalresearch.com
*/
(function(c,e,d,l,f,k,i,p,n,w){var q=this,j=c.EDRUtility,r=c.EDRSurveyCodeProbes;if("undefined"!=typeof q.EDRSurvey)q.EDRSurvey.Wb().log(33,o,o,4);else{var b={D:{td:0,K:v,Jb:o,cd:function(){this.Jb=new Date;this.K=e.location.hostname!==e.domain;if(!this.K){var a=e.createElement("iframe");e.body.appendChild(a);a.parentNode.removeChild(a)}},$c:function(){return new Date-this.Jb}},b:function(a){function h(){k.B=e.getElementById(k.ub);k.B?(k.B.setAttribute("scrolling","no"),k.B.setAttribute("title","Online Quality Survey"),
b.a.jd(a,k),k.N=l(function(){b.c.log(12,k.e,o,4);k.r()},k.mc),k.ca()):l(h,10)}a=a?a:o;this.mc=3E4;this.ib=2E3;this.ja="position:absolute;left:-100000px;top:-100000px;width:100%;height:100%;";this.e=(this.id=a)?a:"initial";this.B=this.m=this.name=o;this.wa=this.L=this.v=v;this.P=this.A=this.nb=o;this.W="edr_lwrap_"+(a?a:"first");this.ub="edr_l_"+(a?a:"first");this.F=this.l=this.z=o;this.f={};this.sa=o;this.U=v;this.k=o;this.pa=[];this.p=[];this.Y=this.N=o;this.qa=v;this.Na=this.j=o;this.Ta={};this.ra=
o;this.lb=this.Oa=v;this.Ka="eds_fd_";var s={xdm:"edr"};a&&(s.lid=a);b.c.log(5,this.e,s.xdm);var d=this.m=e.createElement("div"),x=c.eDRXDMClient,f=e.getElementsByTagName("head")[0],i=this.P=e.createElement("style"),t=this,n;d.id=this.W;d.className="edr_lwrap";e.getElementById("edr_survey").appendChild(d);this.A=n=new x.Rpc({remote:b.a.Rc("l",s),container:this.W,props:{id:this.ub},onReady:function(){n.hostReady()}},{remote:{alertMessage:{},hostReady:{},onShown:{},onHidden:{},requestMetrics:{},onAnchorEdgesChanged:{},
hide:{},prepareSurvey:{},setHoverState:{},onConfigured:{}},local:{alertMessage:function(a){alert("received by survey code: "+a)},configureLayer:function(a,b,h,c,s,e){t.Tc(a,b,h,c,s,e)},hide:function(){t.xa()},forceHide:function(){t.da()},showLightbox:function(){t.gb()},hideLightbox:function(){t.bb()},destroyLayer:function(){t.r()},deployAdditionalLayers:function(a){for(var h=0;h<a.length;h++)b.a.Qb(a[h])},deployAdditionalDeployments:function(a){for(var h=0;h<a.length;h++)b.a.va(a[h])},triggerLayerByName:function(a){(a=
b.a.Vb(a))&&a.Ba(t.m)},setMetrics:function(a,b){t.Jc(a,b)},activateTestMode:function(a){b.c.Mb(a)},execute:function(){t.execute()},logServerItems:function(a){for(var h=0;h<a.length;++h)b.c.od(t.e,a[h])},updateCookie:function(a){j.Q(EDRSurvey.COOKIE_NAME,a,36500,b.a.DOMAIN)},log:function(a,h){b.c.kd(t.e,a,h)}}});i.type="text/css";f.appendChild(i);j.Aa(i,"#"+this.W+" {"+this.ja+"}");var k=this;h();b.c.log(6,this.e)}};b.b.prototype.getName=function(){return this.name};b.b.prototype.nd=function(){this.A.requestMetrics()};
b.b.prototype.cc=function(a,b){this.A.setHoverState(a,b)};b.b.prototype.fd=function(a){this.A.onAnchorEdgesChanged(a)};b.b.prototype.Tc=function(a,h,c,d,x,k){b.c.log(7,this.e,a);this.name=a;this.B.className="edr_layer_name_"+a;this.z=h;this.F=d;this.f=x;this.Ta=k;this.nb=this.Cc(this.f.deploymentId);d.lightbox&&!this.j?this.tc():!d.lightbox&&this.j&&this.vc();d.clickToHide&&(this.lb=m);this.sc();this.p=[new b.jb];this.pa=[];if(c){a=c.triggers;c=c.globalConditionals;if(a)for(h=0;h<a.length;++h)this.p.push(b.i.create(a[h]));
if(c)for(h=0;h<c.length;++h)this.pa.push(b.s.create(c[h]))}c="#"+this.W+"{";c+=this.ja+"z-index:"+b.a.ma+";";(a=e.getElementById(this.W))&&a.removeAttribute("style");for(var i in this.z)this.z.hasOwnProperty(i)&&(c+=i+":"+this.z[i]+";");j.Aa(this.P,c+"}");this.L=this.wb();this.A.onConfigured({everShown:this.L});b.g.I(b.g.kc,this);this.U?this.v&&this.Va(this.k):(this.U=m,f(this.N),this.N=o)};b.b.prototype.Cc=function(a){return!a?(b.c.log(41,this.e,o,3),o):a.split("|")[0]};b.b.prototype.Ib=function(a,
b,c){j.M(a,"background-color:"+c+";opacity:"+b+";filter: alpha(opacity="+Math.round(100*b)+");display:block;")};b.b.prototype.Kb=function(a,b){var c=this.F.lightbox,e=parseFloat(c.opacity);i(this.Na);var d=a?1:0,f=this;this.Na=k(function(){f.Ib(f.j,d*e,c.colour);d+=!a?0.05:-0.05;if(!a&&1<=d||a&&0>=d)i(f.Na),b&&b()},10)};b.b.prototype.wb=function(){return!!j.C(this.Ka+this.H())};b.b.prototype.gb=function(){if(this.j){var a=this.F.lightbox;a.fade?this.Kb(v):this.Ib(this.j,a.opacity,a.colour)}};b.b.prototype.bb=
function(){if(this.j){var a=this,b=function(){j.M(a.j,"")};this.F.lightbox.fade?this.Kb(m,b):b()}};b.b.prototype.Ba=function(a){this.p[0].ha(a)};b.b.prototype.ya=function(a){if(this.U){if(a.target&&a.target.className===b.a.S&&this.l){if(!this.l.ed(a.target))return;switch(a.type){case "click":this.execute();break;case "mouseover":this.cc(a.target.id,m);break;case "mouseout":this.cc(a.target.id,v)}}else"click"===a.type&&this.lb&&this.v&&this.xa();for(var h=0;h<this.p.length;++h)this.p[h].ya(a,b.D,this)}};
b.b.prototype.ca=function(){f(this.sa);if(this.U){var a={layer:this,canShow:m};b.g.I(b.g.gc,a);if(a=a.canShow)for(var h=0;h<this.pa.length;++h){if(!this.pa[h].Zb(o)){a=v;break}}else this.Oa||(b.c.log(31,this.e,o,4),this.Oa=m);if(a){if(this.Y)this.Va(this.Y===m?o:this.Y);else{for(a=0;a<this.p.length;++a)this.p[a].evaluate(b.D,this);for(var h=o,s=v,e=v,a=0;a<this.p.length;++a)if(this.p[a].Sc()){var s=m,d=this.p[a].k;d&&(e=m,d!==c&&(h=d))}s&&(this.v&&(h&&h!==this.k)&&this.da(m),e&&!this.v?this.Va(h):
!e&&this.v&&this.xa())}this.Y=o}else this.v&&(this.Y=this.k?this.k:m,this.da(m))}var j=this;this.sa=l(function(){j.ca()},100)};b.b.prototype.Va=function(a){b.c.log(8,this.e,a);if(this.U){var h=j.Pb(this.F),s=h.position.relativeTo;if(s){switch(s){case "window":s=c;break;case "document":s=c.document;break;default:s="trigger"===s?a:e.querySelector(s),s||(s=c,h.position.edges=["top","left","bottom","right"],h.position.offset={x:0,y:0})}if(this.v){if(!this.l)throw"EDRSurveyCode.PositionedLayer not available when showing in show()";
this.l.r()}else j.M(this.m,this.ja),this.F.lightbox&&this.F.lightbox.show&&this.gb();this.l=new b.n(this,s,this.z,h);this.v=m;this.k=a;a=m;this.L||(a=this.wb());this.L=a;this.f.persistDeployment&&this.H()&&this.Kc();a=this.Ma();a.surveyId=this.f.surveyId;a.installationId=this.f.installationId;a.deploymentId=this.H();this.A.onShown(a);this.L||j.ac(b.a.R+"log.php?e=layershow",this.f,b.D.K);b.g.I(b.g.hb,{layer:this,firstShow:!this.L,firstShowOnPage:!this.wa});this.L=this.wa=m}else this.r()}};b.b.prototype.Hc=
function(a){a=this.Ka+a;j.C(a)&&j.Sb(a,b.a.DOMAIN)};b.b.prototype.Kc=function(){if(this.H()){var a=this.Ka+this.H(),h=this.f.persistDeploymentDuration;if(!j.C(a)){var c=v;h!==v&&(0===h&&(h=31536E4),c=h/86400);j.Q(a,1,c,b.a.DOMAIN);b.c.log(39,this.e,this.H())}}else b.c.log(41,this.e)};b.b.prototype.H=function(){return this.nb};b.b.prototype.xa=function(){if(!this.qa){b.c.log(9,this.e);this.qa=m;this.bb();this.A.hide();var a=this;c.setTimeout(function(){a.qa&&(b.c.log(13,a.e,[a.ib],4),a.da())},this.ib)}};
b.b.prototype.da=function(a){this.qa=v;if(this.v){b.c.log(10,this.e);if(!a)for(a=0;a<this.p.length;++a)this.p[a].fb();j.M(this.m,this.ja+"visibility:hidden;");this.k=this.Oa=this.v=v;this.l&&(this.l.r(),this.l=o);this.A.onHidden();b.g.I(b.g.jc,{layer:this})}};b.b.prototype.Jc=function(a,b){this.l&&this.l.qd(a,b)};b.b.prototype.r=function(){b.c.log(11,this.e);this.Hb();f(this.sa);this.N&&f(this.N);this.l&&this.l.r();this.B&&this.B.parentNode.removeChild(this.B);this.P&&this.P.parentNode.removeChild(this.P);
this.m&&this.m.parentNode.removeChild(this.m);this.j&&this.j.parentNode.removeChild(this.j);this.j=this.A=this.P=this.m=this.B=this.l=this.N=this.sa=o;b.a.hd(this.id);b.g.I(b.g.hc,{layerName:this.getName()})};b.b.prototype.Hb=function(){if(this.f.depersistDeploymentId){var a=this.f.depersistDeploymentId;this.f.depersistDeploymentId=o;var h=b.a.Xc(a);h&&h.r();this.Hc(a);b.c.log(40,this.e,a)}};b.b.prototype.execute=function(){if(this.f){b.g.I(b.g.ic,{layer:this,action:this.f.type});this.Hb();switch(this.f.type){case "triggerOtherLayer":var a=
b.a.Vb(this.f.otherLayerName);a&&a.Ba(this.m);break;case "deployOtherDeployment":(a=b.a.Yc(this.f.onExecuteDeploymentId))?(b.c.log(38,this.e,this.f.onExecuteDeploymentId),a.Ba(this.m)):(b.c.log(36,this.e,this.f.onExecuteDeploymentId),b.a.va(this.f.onExecuteDeploymentId));break;case "popupSurvey":this.mb(this.f);break;case "exitSurvey":this.uc(this.f)}this.f.keepLayerOnExecute?b.c.log(37,this.e):this.r()}else this.r()};b.b.prototype.mb=function(a,h){var c=j.Ub(),e=this.Ma();e.surveyId=a.surveyId;e.installationId=
a.installationId;e.deploymentId=a.deploymentId;j.ac(b.a.R+"prepare.php?guid="+c,e,b.D.K);e=this.f.windowSize;c=b.a.R+"deploy/"+(h?"enter-exit-survey-no-holding":"enter")+"/guid/"+c;h?(h.location=c,e.x&&e.y&&(h.resizeTo?h.resizeTo(e.x,e.y):(h.outerWidth=e.x,h.outerHeight=e.y)),this.ra=h):this.ra=this.Bb(c,"edr_win_"+this.name,e.x,e.y)};b.b.prototype.sc=function(){switch(this.F.jsBehaviour){case 1:this.rc()}};b.b.prototype.tc=function(){var a=e.createElement("div");a.className="edr_lb";e.getElementById("edr_survey").appendChild(a);
this.j=a};b.b.prototype.vc=function(){this.j.parentNode.removeChild(this.j);this.j=o};b.b.prototype.rc=function(){b.c.log(35,this.e)};b.b.prototype.uc=function(a){function h(d){if(100<++f)d.close(),d=o,b.c.log(24,j.e,o,3);else{try{if(!d.document)throw"wait";}catch(y){l(function(){h(d)},20);return}if(d.document.getElementById){b.c.log(27,j.e);try{var i=d.document.getElementsByTagName("body");i&&(i[0].innerHTML="")}catch(k){}i=b.a.R+"deploy/holding/deployment/"+a.deploymentId;i+="/survey/"+n(a.surveyId);
i+="/installation/"+n(a.installationId);b.D.K&&(i+="/doc-domain/"+n(e.domain));c.locale&&(i+="/locale/"+n(c.locale));d.document.write('<!DOCTYPE html><SCRIPT LANGUAGE="Javascript">'+(b.D.K?'document.domain = "'+e.domain+'";':"")+"var pc = "+JSON.stringify(j.Ta)+";var ppv = "+JSON.stringify(b.a.ga)+";var sed = "+JSON.stringify(c)+";var dply = "+JSON.stringify(a)+";<\/SCRIPT>");d.document.write('<SCRIPT LANGUAGE="Javascript" SRC="'+i+'"><\/SCRIPT>')}else b.c.log(25,j.e,o,3),j.mb(a,d)}}b.c.log(26,this.e);
var c=this.Ma();c.surveyId=a.surveyId;c.installationId=a.installationId;c.deploymentId=a.deploymentId;var d=this.f.holdingWindowSize;this.ra=this.Bb(b.D.K&&"Microsoft Internet Explorer"===navigator.appName?b.a.Yb:"about:blank","edr_win_"+this.name,d.x,d.y);var f=0,j=this;h(this.ra)};b.b.prototype.Ma=function(){var a=r.execute(c,r.Uc(this.Ta),b.a.ga),h=b.ea();return{url:c.location.href,probes:a,locale:b.a.LOCALE,data1:b.a.DATA1,data2:b.a.DATA2,data3:b.a.DATA3,test:b.a.TEST,uuid:o!==h?h:""}};b.b.prototype.Bb=
function(a,b,e,d){var f="location=0,toolbar=no,directories=no,status=no,scrollbars=yes,resizable=yes";e&&d&&(f+=",width="+e+",height="+d);return c.open(a,b,f)};b.i=function(a){this.o=a;this.k=o;this.ua=v;this.Ja=[];if(a=a.conditionals)for(var h=0;h<a.length;++h)this.Ja.push(b.s.create(a[h]))};b.i.create=function(a){switch(a.type){case "init":return new b.Ha(a);case "click":return new b.Ga(a);case "scroll":return new b.Ia(a);default:b.c.log(16,o,[a.type],2)}};b.i.prototype.evaluate=function(){};b.i.prototype.ya=
function(){};b.i.prototype.pb=function(a){for(var b=0;b<this.Ja.length;++b)if(!this.Ja[b].Zb(a))return v;return m};b.i.prototype.ha=function(a){var h=a||c;h!==this.k&&(b.c.log(14,this.o.type,a),this.ua=m,this.k=h)};b.i.prototype.fb=function(){this.k&&(b.c.log(15,this.o.type),this.ua=m,this.k=o)};b.i.prototype.Sc=function(){var a=this.ua;this.ua=v;return a};b.jb=function(){b.i.call(this,{type:"manual"})};j.u(b.jb,b.i);b.Ha=function(a){b.i.call(this,a);this.ob=v};j.u(b.Ha,b.i);b.Ha.prototype.evaluate=
function(a,h){!h.wa&&!this.ob&&(this.pb()?this.o.delay?a.$c()>parseInt(this.o.delay,10)&&this.ha():this.ha():(b.c.log(17,this.o.type,o,4),this.ob=m))};b.Ga=function(a){b.i.call(this,a);this.Xa=v};j.u(b.Ga,b.i);b.Ga.prototype.ya=function(a,h,c){if("click"===a.type&&this.o.selector&&j.matchesSelector(a.target,this.o.selector))if(this.k&&a.target===this.k)this.fb();else if(!this.Xa)if(this.pb(a.target)){var e=this,h=function(){e.Xa=v;e.ha(a.target)};this.o.delay&&!c.v?(this.Xa=m,l(h,this.o.delay)):h()}else b.c.log(18,
this.o.type,a.target,4)};b.Ia=function(a){this.Ic=a.repeatable?m:v;this.qb={update:function(){for(var a=["scrollTop","scrollLeft"],b=0;b<a.length;++b)e.body&&e.body[a[b]]?this[a[b]]=e.body[a[b]]:e.documentElement&&e.documentElement[a[b]]?this[a[b]]=e.documentElement[a[b]]:e.documentElement&&!e.documentElement[a[b]]&&(this[a[b]]=0)}};b.i.call(this,a)};j.u(b.Ia,b.i);b.Ia.prototype.evaluate=function(a,b){var d=this.o.element;if(d){var f=this.o.axes;if(f){var j={x:"scrollLeft",y:"scrollTop"},i=v,k=function(a,
b,h){var c=parseInt(h,10);-1!==h.indexOf("%")&&(c=("y"===b?a.offsetHeight:a.offsetWidth)*(c/100));return c},l=[],n=o;"document"===d?(this.qb.update(),l=[this.qb],n=c.document.body):l=e.querySelectorAll(d);for(var p=0;p<l.length;++p)for(var u in j)if(j.hasOwnProperty(u)&&f[u]){var r=f[u].lowerBound,q=f[u].upperBound,q=q===o||q===g||l[p][j[u]]<=k(n?n:l[p],u,q);if((r===o||r===g||l[p][j[u]]>=k(n?n:l[p],u,r))&&q){if(this.Ic||!b.wa)this.ha("document"===d?c.document.body:l[p]);i=m}}i||this.fb()}}};b.s=function(a){this.Ac=
a.matchMode;this.Bc=a.not===m;this.Ya=a.value};b.s.create=function(a){switch(a.type){case "cookie":return new b.Ca(a);case "element":return new b.Da(a);case "triggerElement":return new b.Ea(a);default:b.c.log(19,o,[a.type],2)}};b.s.prototype.Zb=function(a){a=this.oa(a);return a=this.Bc?!a:a};b.s.prototype.oa=function(){return m};b.Ca=function(a){b.s.call(this,a)};j.u(b.Ca,b.s);b.Ca.prototype.oa=function(){return j.C(this.Ya)!==o};b.Da=function(a){b.s.call(this,a)};j.u(b.Da,b.s);b.Da.prototype.oa=
function(){var a=this.Ac,b=e.querySelector(this.Ya);return b&&1===a?0!==b.offsetWidth:b!==o};b.Ea=function(a){b.s.call(this,a)};j.u(b.Ea,b.s);b.Ea.prototype.oa=function(a){return!a?v:j.matchesSelector(a,this.Ya)};b.n=function(a,b,c,e){this.J=a;this.w=b;this.z=c;this.Qa={};this.Sa={};this.Pa={};this.Ra={};this.$={};this.na=o;this.O={};var a=e.position.offset||{},b={x:0,y:0},d;for(d in b)if(b.hasOwnProperty(d)){var f=a[d]?"string"===typeof a[d]?a[d]:a[d].toString():"0",c=-1!==f.indexOf("%"),f=parseInt(f,
10);this.Pa[d]=c?0:f;this.Sa[d]=c?f:0;this.Ra[d]=0>f;this.Qa[d]=Math.abs(f)+(c?"%;":"px;");this.$[d]=f+(c?"%;":"px;")}this.La=e.position.edges;this.ta=o;this.Cb()};b.n.prototype.ed=function(a){var b=this.O,c;for(c in b)if(b.hasOwnProperty(c)&&a===b[c])return m;return v};b.n.prototype.qd=function(a,b){this.Fc(a);this.wc(b)};b.n.prototype.Cb=function(){this.J.nd();this.oc()};b.n.prototype.Fc=function(a){if(this.w)if(0===this.w.offsetWidth)this.J.da();else{var b="";if(!this.z.width||"100%"==this.z.width)b+=
"width:"+a.x+"px;";this.z.height||(b+="height:"+a.y+"px;");switch(this.w){case c:case c.document:b+=this.Ec(a);break;default:b=this.La?b+this.Db(a,this.La,this.$):b+this.Dc(a)}j.M(this.J.m,b)}};b.n.prototype.Ec=function(a){function b(a){return e?-1!==j.Za(e,a):v}var e=this.La,d=j.ab(),f="position:"+(this.w===c&&a.y<d.y?"fixed":"absolute")+";";if(b("left")===b("right"))var i=this.Pa.x-Math.min(d.x/2,a.x/2),f=f+("right:auto;left:"+(this.Sa.x+50)+"%;margin-left:"+i+"px;");else b("left")?f+="right:auto;left:"+
this.$.x:b("right")&&(f+="left:auto;right:"+(this.Ra.x?"":"-")+this.Qa.x);b("top")===b("bottom")?(a=this.Pa.y-Math.min(d.y/2,a.y/2),f+="bottom:auto;top:"+(this.Sa.y+50)+"%;margin-top:"+a+"px;"):b("top")?f+="bottom:auto;top:"+this.$.y:b("bottom")&&(f+="top:auto;bottom:"+(this.Ra.y?"":"-")+this.Qa.y);this.yb([]);return f};b.n.prototype.oc=function(){f(this.ta);var a=this;this.ta=l(function(){a.Cb()},1E3)};b.n.prototype.Dc=function(a){var b=j.Tb(this.w),c=j.ab(),b={left:b.x,right:c.x-(b.x+this.w.offsetWidth),
bottom:c.y-(b.y+this.w.offsetHeight),top:b.y},b=b.left>a.x||b.right>a.x?b.left>b.right?"left":"right":b.top>b.bottom?"top":"bottom",c=this.$;return this.Db(a,{anchor:[b],layer:[{top:"bottom",right:"left",bottom:"top",left:"right"}[b]]},{x:"right"===b?c.x:"left"===b?0<c.x.length&&"-"==c.x[0]?c.x.substring(1):"-"+c.x:0,y:"top"===b?c.y:"bottom"===b?0<c.y.length&&"-"==c.y[0]?c.y.substring(1):"-"+c.y:0})};b.n.prototype.Db=function(a,b,c){function e(a,b,c){function d(a){return b?-1!==j.Za(b,a):v}c=c||{x:a.clientWidth,
y:a.clientHeight};a={x:c.x/2,y:c.y/2};d("top")&&(a.y=0);d("bottom")&&(a.y=c.y);d("left")&&(a.x=0);d("right")&&(a.x=c.x);return a}var d=j.Tb(this.w),f=e(this.w,b.anchor),i=e(this.J.m,b.layer,a),k=d.x+f.x-i.x,d=d.y+f.y-i.y,f=j.ab(),k=0>k?0:k>f.x-a.x?f.x-a.x:k,d=0>d?0:d>f.y-a.y?f.y-a.y:d,a="position:fixed;left:"+k+"px;top:"+d+"px;margin-left:"+c.x+"margin-top:"+c.y;this.yb(b.layer);return a};b.n.prototype.yb=function(a){var b=this.na===o||this.na.length!==a.length;if(!b)for(var c=0;c<a.length;++c)if(-1==
j.Za(this.na,a[c])){b=m;break}b&&(this.na=a,this.J.fd(a))};b.n.prototype.wc=function(a){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c],f=e.getElementById(c);f||(delete this.O[c],f=e.createElement("a"),f.id=c,f.href="javascript:void(0)",f.className=b.a.S,d.title&&(f.title=d.title),d.text&&("undefined"!==typeof f.textContent?f.textContent=d.text:f.innerText=d.text),this.J.m.appendChild(f),this.O[c]=f);j.M(f,"top:"+d.top+"px;left:"+d.left+"px;width:"+d.width+"px;height:"+d.height+"px;")}};b.n.prototype.r=
function(){f(this.ta);this.J=this.w=this.ta=o;for(var a in this.O)if(this.O.hasOwnProperty(a)){var b=e.getElementById(a);b&&b.parentNode.removeChild(b)}this.O={}};b.aa=[];b.Vc=function(){var a=EDRSurvey.TRACKING_DAYS,b,c=j.Ub();j.Q("eds_uuid",c,0<a?a:o,this.DOMAIN);for(b in this.aa)if(this.aa.hasOwnProperty(b)&&"function"===typeof this.aa[b])this.aa[b](c)};b.ea=function(){return j.C("eds_uuid")};b.gd=function(a){this.ea()!==o?a(this.ea()):this.aa.push(a)};b.c={lc:100,bc:v,Wa:o,G:o,Ab:{},Z:[],Mb:function(a){a&&
(this.Ab=a,this.bc=m);this.Wa||(a=e.createElement("style"),a.type="text/css",j.Aa(a,"#edr_test {font-size:12px;text-align:left;font-family:monospace;position:fixed;bottom:0;left:0;right:0;height:15%;z-index:"+b.a.ma+";background-color:#fff;border-top:1px solid silver;overflow:auto;color:black;}#edr_test ul, #edr_debug_panel li {padding:0;margin:0;list-style-type:none;}#edr_test li span {margin-right:1em;}#edr_test li span.id {font-weight:bold; min-width: 10em;display:inline-block;}#edr_test li.t_3 {color:red;}#edr_test li.t_4 {color:goldenrod;}#edr_test li.s_lcl {background-color:#E9E9FF;}#edr_test li.s_prv {background-color:#FFF7E6;}#edr_test li.s_svr {background-color:#F7E6FF;}#edr_test li.t_2 {color:white;background-color:red;}."+
b.a.S+" {opacity:0.5;display:block;filter: alpha(opacity = 50);background-color:white;outline:1px solid fuchsia;}"),e.getElementsByTagName("head")[0].appendChild(a),a=this.Wa=e.createElement("div"),a.id="edr_test",b.a.rb.appendChild(a),this.G=e.createElement("ul"),a.appendChild(this.G));this.Gc()},dd:function(){return this.Wa!==o},Gc:function(){for(;1<=this.G.childNodes.length;)this.G.removeChild(this.G.firstChild);for(var a=0;a<this.Z.length;++a)this.zb(this.Z[a])},zb:function(a){function b(a){return a===
o?"null":a===g?"undefined":a.nodeName?"Node: "+a.nodeName:a.toString()}var c=e.createElement("li"),d={};switch(a.src){case 0:d.src="lcl";break;case 1:d.src="svr";break;case 2:d.src="prv"}c.className="t_"+a.type+" "+("s_"+d.src);d.dt=a.$a.toLocaleTimeString();a.id&&(d.id=a.id);if(a.cb)d.msg=a.cb;else{var f=a.eb instanceof Array?a.eb:[a.eb],i=this.Ab[a.Ob];if(i){for(a=0;a<f.length;++a)i=i.replace("{"+a+"}",b(f[a]));d.msg=i}else{d.code=a.Ob;for(a=0;a<f.length;++a)d["par_"+a]=b(f[a])}}for(var j in d)d.hasOwnProperty(j)&&
(f=e.createElement("span"),f.className=j,f.innerText=f.textContent=d[j],c.appendChild(f));this.G.insertBefore(c,this.G.firstChild)},log:function(a,b,c,d){d===g&&(d=6);this.Ua({$a:new Date,src:0,type:d,id:b,Ob:a,eb:c})},kd:function(a,b,c){c===g&&(c=6);this.Ua({$a:new Date,src:2,type:c,id:a,cb:b})},od:function(a,b){this.Ua({$a:new Date(1E3*b.dt),src:1,type:b.type,id:a,cb:b.msg})},Ua:function(a){this.Z.push(a);this.G?this.zb(a):this.Z.length>this.lc&&this.Z.pop()}};b.g={ec:"beforeInitialised",fc:"initialised",
kc:"layerInitialised",gc:"layerCanShow",hb:"layerShown",jc:"layerHidden",hc:"layerDestroyed",ic:"layerExecuted",t:[],Nb:function(a,b){if("function"!==typeof b||-1!==this.sb(a,b))return v;this.t.push({Rb:a,Xb:b});return m},detach:function(a,b){var c=this.sb(a,b);if(-1===c)return v;var d=this.t.slice(c+1||this.t.length);this.t.length=0>c?this.t.length+c:c;this.t.push.apply(this.t,d);return m},I:function(a,b){for(var c=0;c<this.t.length;++c){var d=this.t[c];if(d.Rb===a)try{d.Xb.call(q,b||o)}catch(e){}}},
sb:function(a,b){for(var c=0;c<this.t.length;++c){var d=this.t[c];if(d.Rb===a&&d.Xb===b)return c}return-1}};b.a={REMOTE_HOST:o,REMOTE_PATH:o,ID:o,LOCALE:o,DATA1:o,DATA2:o,DATA3:o,TEST:v,VERSION:o,PROPORTION:o,DOMAIN:"",ma:999999,S:"edr_go",R:o,h:{},Yb:c.location,ga:{},rb:o,V:v,X:o,ba:o,vb:v,$b:function(){b.c.log(1);var a=e.domain;this.DOMAIN?-1===a.indexOf(this.DOMAIN,a.length-this.DOMAIN.length)&&(b.c.log(29,o,this.DOMAIN,3),this.DOMAIN=a):this.DOMAIN=a;b.c.log(28,o,this.DOMAIN);this.ca();var c=
this;k(function(){c.ca()},500);this.Lb(1)},Lb:function(a){b.c.log(2,o,a);var c=this;/in/.test(e.readyState)?l(function(){c.Lb(a+1)},9):this.kb(1)},kb:function(a){var c={wait:v,abort:v};b.g.I(b.g.ec,c);if(!c.abort)if(c.wait){var d=this;b.c.log(30,o,a);l(function(){d.kb(a+1)},100+500*(a-1))}else this.Lc()},Lc:function(){b.c.log(3);var a=c.ecos_sid,d=c.ecos_vault;a&&d&&b.c.log(32,o,"ESV-"+("_"!==d?d+"-":"")+a,4);b.D.cd();this.V=j.Qc();this.X=j.Wc();this.ba=this.Mc(this.V,this.X);b.c.log(4,o,[this.V,
this.X,this.ba],this.ba?6:2);this.R=("https:"===e.location.protocol?"https://":"http://")+this.REMOTE_HOST+this.REMOTE_PATH;a=e.getElementsByTagName("head")[0];d=e.createElement("style");d.type="text/css";a.appendChild(d);j.Aa(d,"#edr_survey .edr_lwrap iframe {width:100%;height:100%;}#edr_survey ."+this.S+" {opacity:0;display:block;filter:alpha(opacity = 0);position:absolute;font-size:0;background-color:#000;margin:0;padding:0;z-index:"+(this.ma+1)+";}#edr_survey ."+this.S+":focus {opacity:1;filter:alpha(opacity = 50);background-color:rgba(0, 0, 0, 0.01);}#edr_survey .edr_lb {position:fixed;top:0;left:0;right:0;bottom:0;z-index:"+
(this.ma-1)+";display:none;}");a=this.rb=e.createElement("div");a.id="edr_survey";e.body.appendChild(a);this.TEST&&b.c.Mb();this.qc(e);b.g.I(b.g.fc,{supportedPlatform:this.ba});this.vb=m;this.va()},ca:function(){j.Q("ecos.dt",+new Date,o,this.DOMAIN)},qc:function(a){var b=this;j.Pc(a,["click","mouseover","mouseout"],function(a){for(var c in b.h)b.h.hasOwnProperty(c)&&b.h[c].ya(a)})},jd:function(a,b){this.h[a]=b},hd:function(a){delete this.h[a]},Qb:function(a){b.c.log(36,this.e);var a="l:"+a,c=this.h[a];
c||(c=new b.b(a));return c},va:function(a){var c=this.h[a];c||(c=new b.b(a));return c},md:function(){if(!this.vb)return o;var a=this.h[o];a&&a.r();return this.va()},Vb:function(a){for(var b in this.h)if(this.h.hasOwnProperty(b)&&this.h[b].name===a)return this.h[b];return o},Xc:function(a){for(var b in this.h)if(this.h.hasOwnProperty(b)&&this.h[b].H()==a)return this.h[b];return o},Yc:function(a){return this.h[a]?this.h[a]:o},Rc:function(a,d){var f=this.R+a+".php?id="+this.ID;this.ba||(f+="&s=0");b.c.dd()&&
(f=f+"&t="+(b.c.bc?2:1));for(var f=f+("&v="+this.VERSION),i="",k=c.location.href,l=0,p=0;p<k.length;p++)"/"===k.charAt(p)&&l++,3<=l&&(i+=k.charAt(p));0<this.LOCALE.length&&(f+="&l="+n(this.LOCALE));0<this.DATA1.length&&(f+="&d1="+n(this.DATA1));0<this.DATA2.length&&(f+="&d2="+n(this.DATA2));0<this.DATA3.length&&(f+="&d3="+n(this.DATA3));0<screen.width&&0<screen.height&&(f+="&x="+screen.width+"&y="+screen.height);0<screen.colorDepth&&(f+="&d="+screen.colorDepth);this.V&&(f+="&c="+n(j.C(EDRSurvey.COOKIE_NAME,
".")));f+="&ck="+(this.V?"1":"0");this.X!==o&&(f+="&fl="+n(this.X));1>this.PROPORTION&&(f+="&pr="+this.PROPORTION);f+="&p="+n(i.substring(0,100));e.referrer&&(f+="&ref="+n(e.referrer.substring(0,100)));0<=w.indexOf("Safari")&&(f+="&fu="+n(c.location.href));for(var q in d)d.hasOwnProperty(q)&&(f+="&"+q+"="+n(d[q]));var i=j.ld("eds_fd_"),k=[],r;for(r in i)i.hasOwnProperty(r)&&k.push(r.substr(7));0<k.length&&(f+="&fd="+n(k.join()));return f},Mc:function(a){function b(a){return"undefined"!==typeof a&&
a!==o}return!a?v:!b(e.querySelector)||!b(e.querySelectorAll)?v:b(c.postMessage)?b(c.eDRXDMClient):v},Zc:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(this.h[b]);return a},Wb:function(){return b.c},rd:function(a){for(var b in a)a.hasOwnProperty(b)&&this.dc(b,a[b])},dc:function(a,b){if(b.substring||b.toFixed||b===m||b===v)this.ga[a]=b.substring?b.toString():b;else throw"Invalid probe value for key: "+a;},ad:function(a){return this.ga[a]},bd:function(){return this.ga},pd:function(a){if(a.substring)this.Yb=
a;else throw"Path must be a string";}};b.g.Nb(b.g.hb,function(){o===b.ea()&&-1!==EDRSurvey.TRACKING_DAYS&&b.Vc()});q.EDRSurvey=b.a;b.a.main=b.a.$b;b.a.setProbeValue=b.a.dc;b.a.setProbeValues=b.a.rd;b.a.getProbeValue=b.a.ad;b.a.getProbeValues=b.a.bd;b.a.setDomainAccessDocumentPath=b.a.pd;b.a.deployLayer=b.a.Qb;b.a.getLayers=b.a.Zc;b.a.getTester=b.a.Wb;b.a.redeploy=b.a.md;b.a.Events=b.g;b.a.Events.attach=b.g.Nb;b.a.Events.detach=b.g.detach;b.b.prototype.getDeploymentId=b.b.prototype.H;b.b.prototype.getName=
b.b.prototype.getName;b.b.prototype.hide=b.b.prototype.xa;b.b.prototype.trigger=b.b.prototype.Ba;b.b.prototype.destroy=b.b.prototype.r;b.b.prototype.showLightbox=b.b.prototype.gb;b.b.prototype.hideLightbox=b.b.prototype.bb;b.a.getId=b.ea;b.a.onIdGenerated=b.gd;EDRSurvey.REMOTE_HOST="edigitalsurvey.com";EDRSurvey.REMOTE_PATH="/";EDRSurvey.COOKIE_NAME="eds";EDRSurvey.ID="INS-vn81-708264656";EDRSurvey.LOCALE="";EDRSurvey.DATA1="";EDRSurvey.DATA2="";EDRSurvey.DATA3="";EDRSurvey.TEST=v;EDRSurvey.VERSION=
"7211";EDRSurvey.PROPORTION=1;EDRSurvey.DOMAIN=".o2.co.uk";EDRSurvey.TRACKING_DAYS=-1;EDRSurvey.$b()}})(window,document,location,window.setTimeout,window.clearTimeout,window.setInterval,window.clearInterval,decodeURIComponent,encodeURIComponent,navigator.userAgent);})();
